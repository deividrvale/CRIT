THEORY ints     ;
LOGIC QF_LIA    ;
SOLVER internal ;

SIGNATURE sumup, sumdown, u, return, v ;

RULES
    sumup(x) -> u(x, 1, 0) ;
    u(x, i, z) -> u(x, i + 1, z + i) [i <= x] ;
    u(x, i, z) -> return(z) [i > x] ;
    sumdown(x) -> v(x, 0) ;
    v(x, z) -> v(x - 1, z + x) [ x > 0 ] ;
    v(x, z) -> return(z) [ x <= 0 ] ;

QUERY equivalence u(v0, 1, 0) -><- v(v0, 0) [ =(v0, x + 1) ];

END OF FILE